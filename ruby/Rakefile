# fork from: https://github.com/krisleech/Install-Gems/blob/master/Rakefile
desc 'Install a listed gems from a text file generated by "gem list"'
task :install_listed_gem do
  File.open(File.join(File.dirname(__FILE__), 'gems.txt')).each do |line|
    name = line.split(' ').first
    versions = line.split('(').last.chomp.delete(' )').split(',')
    versions.each do |version|
      run "gem install #{name} --version=#{version}  --ignore-dependencies --no-ri --no-rdoc"
    end
  end
end

def run(cmd)
  puts cmd
  system cmd
end
